(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0764":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[a("v-card-text",[a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),!t.infoLoading&&t.noOrders?a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDERS")])]),a("v-card-text",[a("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" No results found ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDERS")])]),a("v-card-text",[a("v-text-field",{staticClass:"rounded-0 accent--text shrink mb-3",attrs:{loading:t.loading,flat:"",dark:"","hide-no-data":"","hide-details":"",dense:"",label:"Search Orders",outlined:"",clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":t.clearSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.finalList},scopedSlots:t._u([{key:"item.createdDate",fn:function(e){var r=e.item;return[a("span",[t._v(t._s(t.formatDate(r.createdDate)))])]}},{key:"item.orderStatus",fn:function(e){var r=e.item;return[a("span",{class:"COMPLETED"===r.orderStatus?"green--text font-weight-medium":"orange--text font-weight-medium"},[t._v(t._s(r.orderStatus))])]}},{key:"item.orderCost",fn:function(e){var r=e.item;return[a("span",{staticClass:"font-weight-medium"},[t._v("₹ "+t._s(r.orderCost))])]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("router-link",{attrs:{to:{path:"/dashboard/orders/"+r.orderId}}},[t._v("DETAILS")])]}}],null,!0)})],1)],1)],1)},s=[],i=a("ade3"),o=a("9ab4"),n=a("1b40"),c=a("7e78"),d=a("1b88"),l=a("b166"),h=a("e71f");let u=class extends n["c"]{constructor(...t){super(...t),Object(i["a"])(this,"searchList",[]),Object(i["a"])(this,"orderList",[]),Object(i["a"])(this,"finalList",[]),Object(i["a"])(this,"search",""),Object(i["a"])(this,"showSearch",!1),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"DATE",value:"createdDate"},{text:"STATUS",value:"orderStatus"},{text:"ORDER TITLE",value:"cartItems[0].productName"},{text:"ORDER ID",value:"orderId"},{text:"PAYMENT METHOD",value:"orderType"},{text:"TOTAL AMOUNT",value:"orderCost"},{text:"",value:"actions",sortable:!1}])}async mounted(){await this.loadOrders()}async onPropertyChanged(t,e){try{const e=c["a"].currentUser;if(t&&""!==t&&t.length>=5&&e){this.loading=!0;const a=[],r=Object(h["j"])(Object(h["b"])(c["b"],"orders").withConverter(d["a"].converter),Object(h["n"])("uid","==",e.uid),Object(h["n"])("orderId",">=",t),Object(h["n"])("orderId","<=",t+""),Object(h["i"])("orderId","asc"),Object(h["g"])(20)),s=await Object(h["e"])(r);console.log(s),s.empty?n["c"].toasted.show("No orders found with given id",{icon:"face",type:"error"}):(this.showSearch=!0,s.forEach(t=>{a.push(t.data())}),this.searchList=[],this.searchList.push(...a),this.finalList=[],this.finalList.push(...this.searchList))}}catch(a){n["c"].toasted.show(a.message,{icon:"face",type:"error"}),console.error(a)}finally{this.loading=!1}}async loadOrders(){try{this.infoLoading=!0;const t=c["a"].currentUser;if(t){this.orderList=[];const e=Object(h["j"])(Object(h["b"])(c["b"],"orders").withConverter(d["a"].converter),Object(h["n"])("uid","==",t.uid),Object(h["i"])("createdDate","desc"),Object(h["g"])(40)),a=await Object(h["e"])(e);a.empty?this.noOrders=!0:(a.forEach(t=>{this.orderList.push(t.data())}),this.finalList=[],this.finalList.push(...this.orderList))}else n["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t),n["c"].toasted.show(t,{icon:"close-circle",type:"error"})}finally{this.infoLoading=!1}}formatDate(t){return Object(l["a"])(new Date(t),"yyyy-MM-dd")}clearSearch(){this.finalList=[],this.finalList.push(...this.orderList)}};Object(o["a"])([Object(n["d"])("search")],u.prototype,"onPropertyChanged",null),u=Object(o["a"])([n["a"]],u);var b=u,f=b,v=(a("e3bc"),a("2877")),m=a("6544"),p=a.n(m),O=a("0798"),g=a("b0af"),w=a("99d9"),y=a("a523"),j=a("8fea"),L=a("490a"),x=a("8654"),C=Object(v["a"])(f,r,s,!1,null,"9016ffaa",null);e["default"]=C.exports;p()(C,{VAlert:O["a"],VCard:g["a"],VCardText:w["c"],VCardTitle:w["d"],VContainer:y["a"],VDataTable:j["a"],VProgressCircular:L["a"],VTextField:x["a"]})},c544:function(t,e,a){},e124:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-navigation-drawer",{attrs:{color:"secondary",dark:"","mobile-breakpoint":"960",app:""},scopedSlots:t._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[r("v-btn",{attrs:{block:""},on:{click:t.logOut}},[t._v(" Logout ")])],1)]},proxy:!0}]),model:{value:t.userDrawer,callback:function(e){t.userDrawer=e},expression:"userDrawer"}},[r("v-list",[r("v-list-item",{staticClass:"ma-2"},[r("router-link",{attrs:{to:"/"}},[r("v-img",{staticClass:"ps-0 me-2",attrs:{src:a("cf05"),"max-height":"80","max-width":"200"}})],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-title"},[t._v("Gamer X codes")])],1)],1),t._l(t.items,(function(e){return r("div",{key:e.title},[r("router-link",{attrs:{to:e.path}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.title))])],1)],1)],1)],1)}))],2)],1),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1)},s=[],i=a("ade3"),o=a("9ab4"),n=a("1b40"),c=a("bb3f"),d=a("c5fb"),l=a("0764"),h=a("d663"),u=a("8c28");let b=class extends n["c"]{constructor(...t){super(...t),Object(i["a"])(this,"items",[{title:"Dashboard",icon:"mdi-view-dashboard",path:"/dashboard/home"},{title:"Library",icon:"mdi-library",path:"/dashboard/library"},{title:"Orders",icon:"mdi-account-box",path:"/dashboard/orders"},{title:"Personal Info",icon:"mdi-account",path:"/dashboard/details"},{title:"My Tickets",icon:"mdi-note-text",path:"/dashboard/tickets"}]),Object(i["a"])(this,"address",new u["a"])}get userDrawer(){return this.$store.getters.getUserDrwer}set userDrawer(t){this.$store.dispatch("setUserDrawer",t)}async logOut(){try{await c["a"].signOut(this.$route.name)}catch(t){console.log(t)}}};b=Object(o["a"])([Object(n["a"])({components:{MobileVerify:d["a"],AddressPopUp:h["default"],Orders:l["default"]}})],b);var f=b,v=f,m=a("2877"),p=a("6544"),O=a.n(p),g=a("8336"),w=a("a523"),y=a("132d"),j=a("adda"),L=a("8860"),x=a("da13"),C=a("5d23"),k=a("34c3"),D=a("f774"),_=Object(m["a"])(v,r,s,!1,null,"a9996846",null);e["default"]=_.exports;O()(_,{VBtn:g["a"],VContainer:w["a"],VIcon:y["a"],VImg:j["a"],VList:L["a"],VListItem:x["a"],VListItemContent:C["a"],VListItemIcon:k["a"],VListItemTitle:C["c"],VNavigationDrawer:D["a"]})},e3bc:function(t,e,a){"use strict";a("c544")}}]);
//# sourceMappingURL=dashboard.376e9691.js.map