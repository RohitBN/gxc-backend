(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SellProducts"],{"0d71":function(t,e,a){"use strict";a.r(e);var i=a("8336"),n=a("b0af"),s=a("99d9"),r=a("62ad"),o=a("a523"),c=a("8fea"),l=a("169a"),u=a("ce7e"),d=a("132d"),h=a("adda"),f=a("0fd9"),p=a("2fa4"),b=a("8654"),v=a("71d9"),m=a("2a7f"),g=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(o["a"],{attrs:{fluid:""}},[e(f["a"],{attrs:{justify:"center"}},[e(r["a"],[e("sell-product")],1)],1),e(f["a"],{attrs:{justify:"center",dense:""}},[e(r["a"],[e(n["a"],[e(s["c"],[[e(c["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.productList},scopedSlots:t._u([{key:"top",fn:function(){return[e(v["a"],{attrs:{flat:""}},[e(m["a"],[t._v("Sell Product Details")]),e(u["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e(p["a"]),e(b["a"],{attrs:{outlined:"",tile:"",dense:"","hide-details":"auto",type:"text",loading:t.searchLoading,label:"Search by name",disabled:t.searchDisabled},model:{value:t.queryString,callback:function(e){t.queryString=e},expression:"queryString"}}),e(p["a"]),e(i["a"],{attrs:{color:"primary",loading:t.productSearchLoading},on:{click:t.searchProducts}},[t._v(" Search ")])],1)]},proxy:!0},{key:"item.auditTrail.createdOn",fn:function(a){var i=a.item;return[e("span",[t._v(t._s(new Date(i.auditTrail.createdOn).toLocaleString()))])]}},{key:"item.logoUrl",fn:function(t){var i=t.item;return[e(h["a"],{key:i.logoUrl,staticClass:"pa-3",attrs:{height:"80px",width:"80px",src:i.logoUrl,"lazy-src":a("8f4a")}})]}},{key:"item.actions",fn:function(a){var i=a.item;return[e(d["a"],{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),e(d["a"],{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}],null,!0)})]],2)],1)],1)],1),e(f["a"],{attrs:{justify:"center"}},[e(l["a"],{attrs:{"max-width":"90%",persistent:""},model:{value:t.$store.getters.getCloseSeller,callback:function(e){t.$set(t.$store.getters,"getCloseSeller",e)},expression:"$store.getters.getCloseSeller"}},[e("sell-product",{key:t.editedItem.id,attrs:{edit:!0,sellProductInfo:t.editedItem}})],1)],1)],1)},y=[],O=a("c7eb"),j=a("1da1"),x=a("d4ec"),I=a("bee2"),w=a("8f33"),P=a("257e"),k=a("262e"),S=a("ade3"),C=(a("99af"),a("14d9"),a("a434"),a("d3b7"),a("159b"),a("9ab4")),_=a("60a3"),L=a("174f"),$=a("3d20"),T=a.n($),A=a("87df"),D=a("bb1b"),z=function(t){function e(){var t;Object(x["a"])(this,e);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=Object(w["a"])(this,e,[].concat(i)),Object(S["a"])(Object(P["a"])(t),"productSearchLoading",!1),Object(S["a"])(Object(P["a"])(t),"productList",[]),Object(S["a"])(Object(P["a"])(t),"loading",!1),Object(S["a"])(Object(P["a"])(t),"searchDisabled",!1),Object(S["a"])(Object(P["a"])(t),"queryString",""),Object(S["a"])(Object(P["a"])(t),"searchLoading",!1),Object(S["a"])(Object(P["a"])(t),"headers",[{text:"Date Added",value:"auditTrail.createdOn"},{text:"Sell Product Id",value:"id"},{text:"Product Name",value:"name"},{text:"Logo",value:"logoUrl"},{text:"Added By",value:"auditTrail.createdBy.email"},{text:"Updated By",value:"auditTrail.updatedBy.email"},{text:"Actions",value:"actions",sortable:!1}]),Object(S["a"])(Object(P["a"])(t),"editedIndex",0),Object(S["a"])(Object(P["a"])(t),"editedItem",new D["a"]),Object(S["a"])(Object(P["a"])(t),"dialog",!1),t}return Object(k["a"])(e,t),Object(I["a"])(e,[{key:"searchProducts",value:function(){var t=Object(j["a"])(Object(O["a"])().mark((function t(){return Object(O["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("query:"+this.queryString),""===this.queryString){t.next=6;break}return t.next=4,this.searchQueryString();case 4:t.next=8;break;case 6:return t.next=8,this.getProducts();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getProducts",value:function(){var t=Object(j["a"])(Object(O["a"])().mark((function t(){var e,a=this;return Object(O["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.productList=[],this.productSearchLoading=!0,t.next=5,L["a"].getDocuments("creditProducts",D["a"].converter);case 5:e=t.sent,e.empty?_["c"].toasted.show("No results found",{icon:"face",type:"error"}):(e.forEach((function(t){a.productList.push(t.data())})),_["c"].toasted.show("Search complete",{icon:"face",type:"success"})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),_["c"].toasted.show(t.t0,{icon:"face",type:"error"});case 13:return t.prev=13,this.productSearchLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[0,9,13,16]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"editItem",value:function(t){this.editedIndex=this.productList.indexOf(t),this.editedItem=Object.assign({},t),this.$store.commit("setCloseSeller",!0)}},{key:"deleteItem",value:function(){var t=Object(j["a"])(Object(O["a"])().mark((function t(e){var a,i;return Object(O["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.fire({title:"Are you sure?",text:"Cash/Credit Product will be deleted!!. You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});case 3:if(a=t.sent,!a.isConfirmed){t.next=10;break}return t.next=7,L["a"].deleteDocument("creditProducts",e.id);case 7:i=this.productList.indexOf(e),this.productList.splice(i,1),T.a.fire("Deleted!","Cash/Credit Product has been deleted.","success");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),_["c"].toasted.show(t.t0.message,{icon:"face",type:"error"});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"searchQueryString",value:function(){var t=Object(j["a"])(Object(O["a"])().mark((function t(){var e,a=this;return Object(O["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.searchDisabled=!0,this.searchLoading=!0,this.productList=[],t.next=6,L["a"].getdocsStartingWithKey("creditProducts",this.queryString,"name",D["a"].converter);case 6:e=t.sent,e.empty?_["c"].toasted.show("No results found",{icon:"face",type:"error"}):(e.forEach((function(t){a.productList.push(t.data())})),_["c"].toasted.show("Found "+this.productList.length+" items",{icon:"face",type:"success"})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),_["c"].toasted.show(t.t0.message,{icon:"face",type:"error"});case 13:return t.prev=13,this.searchLoading=!1,this.searchDisabled=!1,this.queryString="",t.finish(13);case 18:case 19:case"end":return t.stop()}}),t,this,[[0,10,13,18]])})));function e(){return t.apply(this,arguments)}return e}()}]),e}(_["c"]);z=Object(C["__decorate"])([Object(_["a"])({components:{SellProduct:A["default"]}})],z);var U=z,B=U,F=(a("15b6"),a("2877")),V=Object(F["a"])(B,g,y,!1,null,"55aeee8b",null);e["default"]=V.exports},"15b6":function(t,e,a){"use strict";a("4bc6")},1681:function(t,e,a){},"23a7":function(t,e,a){"use strict";var i=a("2909"),n=a("5530"),s=a("53ca"),r=(a("99af"),a("caad"),a("d81d"),a("14d9"),a("13d5"),a("fb6a"),a("a434"),a("b0c0"),a("a9e3"),a("d3b7"),a("159b"),a("5803"),a("2677")),o=a("cc20"),c=a("80d2"),l=a("d9bd"),u=a("d9f7");e["a"]=r["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(c["H"])(t).every((function(t){return null!=t&&"object"===Object(s["a"])(t)}))}}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var a=e.size,i=void 0===a?0:a;return t+i}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(c["w"])(e,1024===this.base))},internalArrayValue:function(){return Object(c["H"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var a=e.name,i=void 0===a?"":a,n=e.size,s=void 0===n?0:n,r=t.truncateText(i);return t.showSize?"".concat(r," (").concat(Object(c["w"])(s,1024===t.base),")"):r})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(l["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(c["k"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,a){return t.$createElement(o["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(a,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=r["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(u["d"])(t.data.style,{display:"none"})),t},genInput:function(){var t=r["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,i){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[i],file:a,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=r["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(n["a"])(Object(n["a"])({},e.data.on||{}),{},{click:function(e){e.target&&"LABEL"===e.target.nodeName||t.$refs.input.click()}}),e},onInput:function(t){var e=Object(i["a"])(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}})},2677:function(t,e,a){"use strict";var i=a("8654");e["a"]=i["a"]},"3a2f":function(t,e,a){"use strict";var i=a("ade3"),n=(a("a9e3"),a("9734"),a("4ad4")),s=a("a9ad"),r=a("16b7"),o=a("b848"),c=a("f573"),l=a("80d2"),u=a("d9bd"),d=a("58df");e["a"]=Object(d["a"])(s["a"],r["a"],o["a"],c["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,n=!1!==this.attach?e.offsetLeft:e.left,s=0;return this.top||this.bottom||i?s=n+e.width/2-a.width/2:(this.left||this.right)&&(s=n+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(s,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=i+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=i+e.height/2-a.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),!1===this.attach&&(n+=this.pageYOffset),"".concat(this.calcYOverflow(n),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(l["h"])(this.maxWidth),minWidth:Object(l["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(l["t"])(this,"activator",!0)&&Object(u["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=n["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")}),e.keydown=function(e){e.keyCode===l["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:Object(i["a"])(Object(i["a"])(Object(i["a"])({},this.contentClass,!0),"menuable__content__active",this.isActive),"v-tooltip__content--fixed",this.activatorFixed),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"4bc6":function(t,e,a){},5803:function(t,e,a){},"5e87":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a("d4ec"),n=a("bee2"),s=(a("a15b"),a("d81d"),a("ac1f"),a("466d"),function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,null,[{key:"convertToKebabCase",value:function(t){var e;return null===(e=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g))||void 0===e?void 0:e.map((function(t){return t.toLowerCase()})).join("-")}}]),t}())},"87df":function(t,e,a){"use strict";a.r(e);var i=a("8336"),n=a("b0af"),s=a("99d9"),r=a("62ad"),o=a("23a7"),c=a("4bd4"),l=a("132d"),u=a("adda"),d=a("0fd9"),h=a("0789"),f=a("2fa4"),p=a("8654"),b=a("a844"),v=a("3a2f"),m=(a("a4d3"),a("e01a"),a("b0c0"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n["a"],[e(s["d"],[e("span",{staticClass:"headline"},[t._v(t._s(t.label))])]),e(s["c"],[e(c["a"],{ref:"sellerForm"},[e(d["a"],{attrs:{justify:"center",dense:""}},[e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"center"}},[e(p["a"],{attrs:{outlined:"",tile:"",type:"text",label:"Product Name",readonly:t.edit,rules:[function(t){return!!t||"Product name is required"}]},model:{value:t.sellProductInfo.name,callback:function(e){t.$set(t.sellProductInfo,"name",e)},expression:"sellProductInfo.name"}})],1),e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"center"}},[e(b["a"],{attrs:{label:"Description",type:"text",outlined:"","auto-grow":"",rows:"1",rules:[function(t){return!!t||"description is required"}]},model:{value:t.sellProductInfo.description,callback:function(e){t.$set(t.sellProductInfo,"description",e)},expression:"sellProductInfo.description"}})],1),e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"center"}},[e(p["a"],{attrs:{label:"Cash Price",type:"number",outlined:"",rules:[function(t){return!!t||"Cash Price is required"}]},model:{value:t.sellProductInfo.cashPrice,callback:function(e){t.$set(t.sellProductInfo,"cashPrice",t._n(e))},expression:"sellProductInfo.cashPrice"}})],1),e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"center"}},[e(p["a"],{attrs:{label:"Credit Price",type:"number",outlined:"",rules:[function(t){return!!t||"Cash Price is required"}]},model:{value:t.sellProductInfo.creditPrice,callback:function(e){t.$set(t.sellProductInfo,"creditPrice",t._n(e))},expression:"sellProductInfo.creditPrice"}})],1),e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"center"}},[e(o["a"],{attrs:{accept:"image/png,image/jpeg,image/jpg,image/svg+xml",label:"Category logo",outlined:"","show-size":"",rules:t.uploadRules},on:{change:t.previewImage,"click:clear":t.clearImages},model:{value:t.selectedImage,callback:function(e){t.selectedImage=e},expression:"selectedImage"}})],1),e(r["a"],{attrs:{cols:"12",md:"3",sm:"6","align-self":"end"}},[e(f["a"]),e(u["a"],{key:t.selectedImageUrl,attrs:{width:"100px",contain:"",src:t.selectedImageUrl,"lazy-src":a("8f4a")}})],1)],1)],1)],1),e(s["a"],[e(f["a"]),t.edit?e(i["a"],{attrs:{color:"primary",text:""},on:{click:t.cancelEdit}},[t._v(" cancel ")]):e(h["e"],[t.edit?t._e():e(v["a"],{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,s=a.attrs;return[e(i["a"],t._g(t._b({staticClass:"my-0",attrs:{icon:""}},"v-btn",s,!1),n),[e(l["a"],{on:{click:t.resetForm}},[t._v("mdi-refresh")])],1)]}}],null,!1,3636889809)},[e("span",[t._v("Reset form")])])],1),e(i["a"],{attrs:{color:"primary",text:"",loading:t.loading},on:{click:t.validateForm}},[t._v(" "+t._s(t.label)+" ")])],1)],1)}),g=[],y=a("c7eb"),O=a("1da1"),j=a("d4ec"),x=a("bee2"),I=a("8f33"),w=a("257e"),P=a("262e"),k=a("ade3"),S=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),a("9ab4")),C=a("60a3"),_=a("7e78"),L=a("bb1b"),$=a("174f"),T=a("5e87"),A=function(t){function e(){var t;Object(j["a"])(this,e);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=Object(I["a"])(this,e,[].concat(i)),Object(k["a"])(Object(w["a"])(t),"sellProductInfo",void 0),Object(k["a"])(Object(w["a"])(t),"edit",void 0),Object(k["a"])(Object(w["a"])(t),"selectedImageUrl",""),Object(k["a"])(Object(w["a"])(t),"selectedImage",null),Object(k["a"])(Object(w["a"])(t),"loading",!1),Object(k["a"])(Object(w["a"])(t),"label","Add Cash/Credit Product"),Object(k["a"])(Object(w["a"])(t),"uploadRules",[function(t){return!!t||"Image is required"},function(t){return!t||t.size<1e5||"Image must be less than 100kb"}]),t}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"mounted",value:function(){var t=Object(O["a"])(Object(y["a"])().mark((function t(){return Object(y["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.label=this.edit?"Update Cash/Credit Product":"Add Cash/Credit Product",this.edit&&(this.selectedImageUrl=this.sellProductInfo.logoUrl,this.uploadRules=[function(t){return!t||t.size<1e5||"Image must be less than 100kb"}]);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"validateForm",value:function(){var t=Object(O["a"])(Object(y["a"])().mark((function t(){return Object(y["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.sellerForm.validate()){t.next=3;break}return t.next=3,this.processRequest();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"resetForm",value:function(){this.sellProductInfo=new L["a"],this.selectedImage=null,this.$refs.sellerForm.reset()}},{key:"previewImage",value:function(){console.log(this.selectedImage),this.selectedImage?this.selectedImageUrl=URL.createObjectURL(this.selectedImage):this.selectedImageUrl=""}},{key:"clearImages",value:function(){this.selectedImageUrl=""}},{key:"processRequest",value:function(){var t=Object(O["a"])(Object(y["a"])().mark((function t(){return Object(y["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.edit){t.next=6;break}return t.next=4,this.updateSeller();case 4:t.next=8;break;case 6:return t.next=8,this.addSeller();case 8:t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addSeller",value:function(){var t=Object(O["a"])(Object(y["a"])().mark((function t(){var e,a,i,n,s,r,o,c,l;return Object(y["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==this.selectedImage){t.next=32;break}return t.prev=1,this.loading=!0,this.sellProductInfo.id=T["a"].convertToKebabCase(this.sellProductInfo.name),this.sellProductInfo.searchPhrase=this.sellProductInfo.name.toLowerCase(),n=this.getFileExtension(this.selectedImage),s={cacheControl:"public,max-age=172800"},t.next=9,_["d"].ref("sell-items/"+this.sellProductInfo.id+n).put(this.selectedImage,s);case 9:return r=t.sent,t.next=12,r.ref.getDownloadURL();case 12:return o=t.sent,this.sellProductInfo.logoUrl=o,c=new Date,l={createdBy:{uid:null===(e=_["a"].currentUser)||void 0===e?void 0:e.uid,name:null===(a=_["a"].currentUser)||void 0===a?void 0:a.displayName,email:null===(i=_["a"].currentUser)||void 0===i?void 0:i.email},createdOn:c.getTime()},console.log(o),this.sellProductInfo.auditTrail=l,t.next=20,$["a"].addDocumentWithId("creditProducts",this.sellProductInfo.id,this.sellProductInfo,L["a"].converter);case 20:t.sent,C["c"].toasted.show("Cash/Credit Product Category Added Successfully",{icon:"face",type:"success"}),this.resetForm(),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](1),console.log(t.t0),C["c"].toasted.show(t.t0.message,{icon:"cross",type:"error"});case 29:return t.prev=29,this.loading=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[1,25,29,32]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getFileExtension",value:function(t){return t.name.substring(t.name.lastIndexOf(".")+1)}},{key:"cancelEdit",value:function(){this.$store.commit("setCloseSeller",!1)}},{key:"updateSeller",value:function(){var t=Object(O["a"])(Object(y["a"])().mark((function t(){var e,a,i,n,s,r,o,c,l;return Object(y["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,this.sellProductInfo.id=T["a"].convertToKebabCase(this.sellProductInfo.name),this.sellProductInfo.searchPhrase=this.sellProductInfo.name.toLowerCase(),null==this.selectedImage){t.next=15;break}return n=this.getFileExtension(this.selectedImage),s={cacheControl:"public,max-age=172800"},t.next=9,_["d"].ref("sell-items/"+this.sellProductInfo.id+n).put(this.selectedImage,s);case 9:return r=t.sent,t.next=12,r.ref.getDownloadURL();case 12:o=t.sent,this.sellProductInfo.logoUrl=o,console.log(this.sellProductInfo.logoUrl);case 15:return c=new Date,l={createdOn:this.sellProductInfo.auditTrail.createdOn,createdBy:this.sellProductInfo.auditTrail.createdBy,updatedBy:{uid:null===(e=_["a"].currentUser)||void 0===e?void 0:e.uid,name:null===(a=_["a"].currentUser)||void 0===a?void 0:a.displayName,email:null===(i=_["a"].currentUser)||void 0===i?void 0:i.email},updatedOn:c.getTime()},this.sellProductInfo.auditTrail=l,t.next=20,$["a"].setDocument("creditProducts",this.sellProductInfo.id,this.sellProductInfo,L["a"].converter);case 20:t.sent,C["c"].toasted.show("Cash/Credit Updated Successfully",{icon:"face",type:"success"}),this.resetForm(),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](0),console.log(t.t0),C["c"].toasted.show(t.t0.message,{icon:"cross",type:"error"});case 29:return t.prev=29,this.loading=!1,this.$store.commit("setCloseSeller",!1),t.finish(29);case 33:case"end":return t.stop()}}),t,this,[[0,25,29,33]])})));function e(){return t.apply(this,arguments)}return e}()}]),e}(C["c"]);Object(S["__decorate"])([Object(C["b"])({required:!1,default:function(){return new L["a"]}})],A.prototype,"sellProductInfo",void 0),Object(S["__decorate"])([Object(C["b"])({required:!1,default:!1})],A.prototype,"edit",void 0),A=Object(S["__decorate"])([C["a"]],A);var D=A,z=D,U=(a("c3cc"),a("2877")),B=Object(U["a"])(z,m,g,!1,null,"248b4e1e",null);e["default"]=B.exports},"8f4a":function(t,e,a){t.exports=a.p+"img/image-placeholder.294de88d.jpg"},9734:function(t,e,a){},a3e5:function(t,e,a){},a844:function(t,e,a){"use strict";var i=a("5530"),n=(a("a9e3"),a("1681"),a("8654")),s=a("58df"),r=Object(s["a"])(n["a"]);e["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null===(a=e.$refs.input)||void 0===a||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){n["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},bb1b:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i,n=a("bee2"),s=a("d4ec"),r=a("ade3"),o=(a("a4d3"),a("e01a"),a("b0c0"),a("84f8")),c=Object(n["a"])((function t(){Object(s["a"])(this,t),Object(r["a"])(this,"id",void 0),Object(r["a"])(this,"name",void 0),Object(r["a"])(this,"description",void 0),Object(r["a"])(this,"logoUrl",void 0),Object(r["a"])(this,"auditTrail",void 0),Object(r["a"])(this,"searchPhrase",void 0),Object(r["a"])(this,"creditPrice",void 0),Object(r["a"])(this,"cashPrice",void 0),this.id="",this.name="",this.description="",this.logoUrl="",this.searchPhrase="",this.creditPrice=0,this.cashPrice=0}));i=c,Object(r["a"])(c,"converter",{toFirestore:function(t){return Object(o["a"])(t)},fromFirestore:function(t,e){var a=t.data(e);return Object(o["b"])(i,a)}})},c3cc:function(t,e,a){"use strict";a("a3e5")}}]);
//# sourceMappingURL=SellProducts.004e7992.js.map