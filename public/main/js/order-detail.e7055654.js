(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-detail"],{"0798":function(t,e,s){"use strict";s("caad"),s("0c18");var a=s("10d2"),r=s("afdd"),i=s("9d26"),o=s("f2e7"),l=s("7560"),d=s("f40d"),n=s("58df"),c=s("d9bd");e["a"]=Object(n["a"])(a["a"],o["a"],d["a"]).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{["v-alert__border--"+this.border]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(i["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(i["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...a["a"].options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t["v-alert--border-"+this.border]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&Object(c["a"])("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"07e6":function(t,e,s){t.exports=s.p+"img/info.b6e591ff.svg"},"0c18":function(t,e,s){},2108:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[a("v-card-text",[a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),a("div",[a("v-breadcrumbs",{attrs:{items:t.items,divider:">",small:"",dark:""}})],1),!t.infoLoading&&t.noOrders?a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDER DETAILS")])]),a("v-card-text",[a("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" Order Not found ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDER "+t._s(t.order.orderId))])]),a("v-card-subtitle",[t._v("Placed: "+t._s(new Date(t.order.createdDate).toLocaleString()))]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.order.cartItems,"hide-default-footer":""},scopedSlots:t._u([{key:"item.headerImageUrl",fn:function(e){var s=e.item;return[a("div",{staticClass:"pa-2 d-flex flex-grow flex-row"},[a("v-img",{staticClass:"elevation-0",attrs:{contain:"",height:"auto","max-width":"80",src:s.headerImageUrl}}),a("div",{staticClass:"ps-2 d-flex flex-column justify-space-between"},[a("span",{staticClass:"mb-2 white--text text-body-1"},[t._v(t._s(s.productName))]),a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"white--text text-caption"},[t._v("₹"+t._s(t.order.orderCost))]),a("span",{staticClass:"white--text text-caption"},[t._v("Vendor:"+t._s(s.sellerName))])])])],1)]}},{key:"item.orderStatus",fn:function(e){var s=e.item;return[a("span",{class:"DELIVERED"===s.deliveryStatus?"green--text font-weight-medium":"orange--text font-weight-medium"},[t._v(t._s(s.deliveryStatus))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("div",[!0!==s.isDigitalProduct||s.deliveryStatus!==t.deliveryStatus.READY_FOR_REDEMPTION&&s.deliveryStatus!==t.deliveryStatus.MANUAL_KEY_NEEDED&&s.deliveryStatus!==t.deliveryStatus.DELIVERED?a("v-stepper",{attrs:{dark:""},model:{value:t.steppers[t.order.cartItems.indexOf(s)],callback:function(e){t.$set(t.steppers,t.order.cartItems.indexOf(s),e)},expression:"steppers[order.cartItems.indexOf(item)]"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.steppers[t.order.cartItems.indexOf(s)]>1,step:"1",color:t.steppers[t.order.cartItems.indexOf(s)]>1?"success":"blue"}},[t._v(" In Progress ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:t.steppers[t.order.cartItems.indexOf(s)]>2,step:"2",color:t.steppers[t.order.cartItems.indexOf(s)]>2?"success":"blue"}},[t._v(" Shipped "),t.steppers[t.order.cartItems.indexOf(s)]>1?a("small",[a("a",{attrs:{href:s.trackingUrl,target:"_blank"}},[t._v("Track")])]):t._e()]),a("v-divider"),a("v-stepper-step",{attrs:{complete:t.steppers[t.order.cartItems.indexOf(s)]>2,step:"3",color:t.steppers[t.order.cartItems.indexOf(s)]>2?"success":"blue"}},[t._v(" Delivered ")])],1)],1):a("div",[!1===s.waitForKey?a("div",{staticClass:"d-flex flex-column align-center"},[a("v-btn",{staticClass:"mb-2 no-uppercase rounded-0",attrs:{tile:"",block:"",height:"36",outlined:"",color:"white"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-star")]),t._v(" Rate Seller ")],1),a("v-btn",{staticClass:"mb-2 no-uppercase font-weight-medium",attrs:{light:"",tile:"",block:"",color:"rgb(250,211,24)"},on:{click:function(e){return t.processKey(s)}}},[t._v("View Key")])],1):a("div",{staticClass:"d-flex flex-column justify-center"},[a("span",{staticClass:"\n                    text-title\n                    accent--text\n                    font-weight-medium\n                    text-center\n                    ma-2\n                  "},[t._v("Your Key will be available in ")]),a("flip-countdown",{staticClass:"white--text",attrs:{showDays:!1,deadline:t.formatDate(s.waitPeriod)}})],1)])],1)]}}],null,!0)}),a("div",{staticClass:"div-color mt-2 d-flex flex-column elevation-2"},[a("v-card-subtitle",{staticClass:"font-weight-medium white--text"},[t._v("PAYMENT DETAILS")]),a("span",{class:"COMPLETED"===t.order.paymentStatus?"green--text ps-4 font-weight-medium text-h5":"red--text ps-4 font-weight-medium text-h5"},[t._v(t._s("COMPLETED"===t.order.paymentStatus?"PAYMENT COMPLETE":"PAYMENT FAILED"))]),a("span",{staticClass:"ps-4 pb-4 text-body-1 font-weight-light white--text"},[t._v("Payment was completed successfully ")]),a("span",{staticClass:"ps-4 text-caption"},[t._v("Payment method: "+t._s(t.order.paidBy))]),a("span",{staticClass:"ps-4 text-caption pb-2"},[t._v("Payment date: "+t._s(new Date(t.order.paidOn).toLocaleString())+" ")])],1),a("div",{staticClass:"div-color mt-2 d-flex flex-column elevation-2"},[a("v-card-subtitle",{staticClass:"font-weight-medium white--text"},[t._v("ORDER SUMMARY")]),a("div",{staticClass:"d-flex flex-row justify-space-between"},[a("span",{staticClass:"ps-4 text-body-1"},[t._v("Sub-total: ")]),a("span",{staticClass:"pe-4 text-body-1 font-weight-bold white--text"},[t._v("₹"+t._s(t.order.totalCost))])]),t.cashOrder?a("div",{staticClass:"d-flex flex-row justify-space-between"},[a("span",{staticClass:"ps-4 text-body-1"},[t._v("COD Fees: ")]),a("span",{staticClass:"pe-4 text-body-1 font-weight-bold white--text"},[t._v("₹"+t._s(t.order.totalCOD))])]):t._e(),a("div",{staticClass:"d-flex flex-row mt-4 justify-space-between"},[a("span",{staticClass:"ps-4 text-body-1"},[t._v("Total: ")]),a("span",{staticClass:"pe-4 text-h6 font-weight-bold white--text"},[t._v("₹"+t._s(t.cashOrder?t.order.totalCost+t.order.totalCOD:t.order.totalCost))])])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"550"},model:{value:t.redeemModal,callback:function(e){t.redeemModal=e},expression:"redeemModal"}},[a("v-card",{staticClass:"grey darken-3 rounded-0"},[a("v-card-title",{staticClass:"pb-0 pe-4"},[a("v-spacer"),a("v-btn",{staticClass:"pe-0 me-0",attrs:{icon:""},on:{click:function(e){t.redeemModal=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-title",{staticClass:"pt-0 text-h6 white--text"},[t._v(" KEYS FOR "+t._s(t.selectedCartItem.productName.toUpperCase())+" ")]),a("v-card-text",[a("div",{staticClass:"elevation-2 rounded-0 d-flex flex-column div-color"},[a("div",{staticClass:"\n              rounded-0\n              d-flex\n              flex-row\n              align-center\n              justify-space-between\n              div-color\n            "},[a("v-img",{staticClass:"elevation-0",attrs:{contain:"",height:"auto","max-width":"80",src:t.selectedCartItem.headerImageUrl}}),a("div",{staticClass:"ps-1 pe-1 d-flex flex-column justify-center"},[a("span",{staticClass:"mb-2 white--text text-body-2"},[t._v(t._s(t.selectedCartItem.productName))]),a("span",{staticClass:"white--text text-body-2 font-weight-bold"},[t._v(t._s(t.selectedCartItem.productKey))])]),a("v-btn",{staticClass:"no-uppercase rounded-0 mb-2 me-5 font-weight-medium",attrs:{tile:"",light:"",height:"30",color:"rgb(250,211,24)"},on:{click:t.copyKeyToClipboard}},[t._v(" Copy ")])],1),a("v-divider",{staticClass:"grey darken-3"}),a("div",{staticClass:"\n              rounded-0\n              d-flex\n              flex-grow flex-row\n              align-center\n              justify-end\n              ma-2\n              div-color\n              text-end\n            "},[a("v-img",{staticClass:"me-1",attrs:{src:s("810f"),"max-width":"15",contain:"",height:"auto"}}),a("router-link",{attrs:{to:"/privacy-policy"}},[a("span",{staticClass:"accent--text font-weight-medium text-caption me-2"},[t._v("Quick guide how to activate your key")])])],1)],1),a("div",{staticClass:"mt-5 d-flex flex-row align-center justify-space-between"},[a("div",{staticClass:"d-flex flex-row me-2 align-center"},[a("v-img",{attrs:{src:s("07e6"),"max-width":"40",contain:"",height:"auto"}}),a("div",{staticClass:"ps-3 pe-3 d-flex flex-column justify-center"},[a("span",{staticClass:"white--text font-weight-bold text-body-1"},[t._v("Having issues?")]),a("span",{staticClass:"white--text text-caption"},[t._v("We are eager to help you! Create the ticket, describe the details and we'll do our best to solve it.")])])],1),a("v-btn",{staticClass:"mb-2 rounded-0 text-caption",attrs:{tile:"",height:"36",outlined:"",color:"white"}},[t._v(" CREATE TICKET ")])],1)])],1)],1)],1)},r=[],i=s("ade3"),o=s("9ab4"),l=s("1b40"),d=s("174f"),n=s("7e78"),c=s("1b88"),h=s("ae0c"),p=s("2b64"),u=s.n(p),m=s("b166"),v=s("75df"),f=s("24e4");let b=class extends l["c"]{constructor(...t){super(...t),Object(i["a"])(this,"cashOrder",!1),Object(i["a"])(this,"deliveryStatus",v["a"]),Object(i["a"])(this,"order",new c["a"]),Object(i["a"])(this,"steppers",[]),Object(i["a"])(this,"selectedCartItem",new h["a"]),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"ORDERED PRODUCTS",value:"headerImageUrl",width:"35%",sortable:!1},{text:"DELIVERY STATUS",value:"orderStatus",width:"20%",sortable:!1},{text:"Actions",value:"actions",sortable:!1,width:"45%"}]),Object(i["a"])(this,"redeemModal",!1),Object(i["a"])(this,"items",[{exact:!0,text:"Orders",disabled:!1,to:"/dashboard/orders"},{text:"Order",disabled:!0}])}async mounted(){await this.loadOrder()}async loadOrder(){try{this.infoLoading=!0;const t=n["a"].currentUser;t?(this.order=await d["a"].getSingleDocument("orders",this.$route.params.id,c["a"].converter),console.log(this.order),this.buildSteppers(this.order.cartItems),this.order.orderType===f["a"].CASH?this.cashOrder=!0:this.cashOrder=!1):l["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t)}finally{this.infoLoading=!1}}async processKey(t){try{t.isDigitalProduct&&!t.redeemed?(console.log("not redeemed"),this.$router.push("/order-details/"+this.order.orderId)):t.isDigitalProduct&&t.redeemed&&(this.redeemModal=!0,this.selectedCartItem=t)}catch(e){console.log(e),l["c"].toasted.show(e.msg,{icon:"close-circle",type:"error"})}}async copyKeyToClipboard(){try{await navigator.clipboard.writeText(this.selectedCartItem.productKey),l["c"].toasted.show("key copied to clipboard",{icon:"close-circle",type:"success"})}catch(t){console.log(t),l["c"].toasted.show(t.message,{icon:"close-circle",type:"error"})}}formatDate(t){return Object(m["a"])(new Date(t),"yyyy-MM-dd HH:mm:ss")}buildSteppers(t){try{for(const e of t){let t=1;e.deliveryStatus===v["a"].IN_PROGRESS?t=1:e.deliveryStatus===v["a"].SHIPPED?t=2:e.deliveryStatus===v["a"].DELIVERED&&(t=3),this.steppers.push(t)}}catch(e){console.log(e)}}trackItem(t){try{window.open(t.trackingUrl,"_blank")}catch(e){console.log(e)}}};b=Object(o["a"])([Object(l["a"])({components:{FlipCountdown:u.a}})],b);var g=b,x=g,C=(s("a76a"),s("2877")),y=s("6544"),w=s.n(y),_=s("0798"),O=(s("abd3"),s("1c87")),S=s("58df"),E=Object(S["a"])(O["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:e,data:s}=this.generateRouteLink();return t("li",[t(e,{...s,attrs:{...s.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),I=s("80d2"),D=Object(I["j"])("v-breadcrumbs__divider","li"),k=s("7560"),j=Object(S["a"])(k["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(D,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],e=!!this.$scopedSlots.item,s=[];for(let a=0;a<this.items.length;a++){const r=this.items[a];s.push(r.text),e?t.push(this.$scopedSlots.item({item:r})):t.push(this.$createElement(E,{key:s.join("."),props:r},[r.text])),a<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}}),$=s("8336"),T=s("b0af"),B=s("99d9"),L=s("a523"),V=s("8fea"),A=s("169a"),R=s("ce7e"),P=s("132d"),M=s("adda"),N=s("490a"),U=s("2fa4"),K=s("7e85"),Y=s("9c54"),F=s("56a4"),H=Object(C["a"])(x,a,r,!1,null,"a0de24c8",null);e["default"]=H.exports;w()(H,{VAlert:_["a"],VBreadcrumbs:j,VBtn:$["a"],VCard:T["a"],VCardSubtitle:B["b"],VCardText:B["c"],VCardTitle:B["d"],VContainer:L["a"],VDataTable:V["a"],VDialog:A["a"],VDivider:R["a"],VIcon:P["a"],VImg:M["a"],VProgressCircular:N["a"],VSpacer:U["a"],VStepper:K["a"],VStepperHeader:Y["a"],VStepperStep:F["a"]})},"810f":function(t,e,s){t.exports=s.p+"img/userGuide.b04a0566.svg"},a76a:function(t,e,s){"use strict";s("b290")},abd3:function(t,e,s){},b290:function(t,e,s){}}]);
//# sourceMappingURL=order-detail.e7055654.js.map