{"version":3,"sources":["webpack:///./src/views/CashCreditProducts/CashCreditProducts.vue?21ea","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/views/CashCreditProducts/CashCreditProducts.ts","webpack:///../../../src/components/VBottomSheet/VBottomSheet.ts","webpack:///./src/views/CashCreditProducts/CashCreditProducts.vue?7e10","webpack:///./src/views/CashCreditProducts/CashCreditProducts.vue?22ee","webpack:///./src/assets/SellBannerDesk.png","webpack:///./src/assets/product-placeholder.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","staticClass","loading","on","clearSearch","model","callback","$$v","search","_l","item","key","id","$vuetify","breakpoint","smAndUp","logoUrl","_v","_s","$event","showSellBottomSheet","getPaginatedProductsDetails","_e","lgAndUp","showSheet","selectedItem","addProduct","productMode","CASH","cashPrice","CREDIT","creditPrice","staticRenderFns","SellProductInfo","constructor","description","searchPhrase","toFirestore","expense","classToPlain","fromFirestore","snapshot","options","data","plainToClass","CashCreditProducts","Vue","SellType","oldValue","length","sectionItems","q","query","collection","firestoreDb","withConverter","converter","where","toLowerCase","orderBy","limit","resp","getDocs","empty","toasted","show","icon","type","showSearch","forEach","doc","push","loadMore","searchList","finalList","error","message","console","fetchData","detailsLoading","productList","log","startAfter","auditTrail","createdOn","Error","mode","CartService","addSellProduct","__decorate","Watch","deep","Component","VDialog","extend","props","inset","Boolean","maxWidth","String","Number","transition","default","computed","classes","call","component","VBottomSheet","VBtn","VCol","VContainer","VIcon","VImg","VProgressCircular","VRow","VSheet","VTextField","Ripple","module","exports"],"mappings":"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","file":"js/sell.52a985d3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"pa-0\":\"\"}},[_c('v-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detailsLoading),expression:\"detailsLoading\"}],staticClass:\"secondary\",attrs:{\"fluid\":\"\",\"pa-0\":\"\",\"mx-auto\":\"\"}},[_c('div',{staticClass:\"text-center\"},[_c('v-progress-circular',{attrs:{\"size\":50,\"color\":\"amber\",\"indeterminate\":\"\"}})],1)]),_c('v-container',[_c('v-row',{staticClass:\"ma-1 pt-5\",attrs:{\"justify\":\"center\",\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"9\",\"align-self\":\"center\"}},[_c('v-img',{attrs:{\"height\":\"200px\",\"contain\":\"\",\"src\":require(\"../../assets/SellBannerDesk.png\")}})],1)],1),_c('v-row',{staticClass:\"ma-1 pt-5\",attrs:{\"justify\":\"center\",\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"8\",\"align-self\":\"center\"}},[_c('v-text-field',{staticClass:\"mx-4 rounded-0\",attrs:{\"loading\":_vm.loading,\"flat\":\"\",\"dark\":\"\",\"hide-no-data\":\"\",\"hide-details\":\"\",\"label\":\"enter search term for games, console or accessories\",\"outlined\":\"\",\"clearable\":\"\",\"append-icon\":\"mdi-magnify\"},on:{\"click:clear\":_vm.clearSearch},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-row',{staticClass:\"ma-1 pt-5\",attrs:{\"justify\":\"center\",\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"9\",\"align-self\":\"center\"}},[_c('v-row',{attrs:{\"justify\":\"center\",\"dense\":\"\"}},_vm._l((_vm.finalList),function(item){return _c('v-col',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],key:item.id,staticClass:\"secondary pa-0 ma-2\",attrs:{\"sm\":\"12\",\"md\":\"5\",\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex flex-row normal-card flex-grow\"},[_c('v-img',{staticClass:\"acc-header rounded-0 flex-grow-0 flex-shrink-0\",attrs:{\"contain\":\"\",\"max-width\":_vm.$vuetify.breakpoint.smAndUp ? '120' : '80',\"lazy-src\":require(\"@/assets/product-placeholder.png\"),\"src\":item.logoUrl}}),_c('div',{staticClass:\"\\n                  d-flex\\n                  flex-column\\n                  justify-center\\n                  align-center\\n                  flex-grow-1 flex-shrink-0\\n                \"},[_c('div',{staticClass:\"ma-2\"},[_c('div',{staticClass:\"text-title white--text font-weight-bold line-clamp\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]),_c('v-btn',{staticClass:\"no-uppercase rounded-0 ma-2\",attrs:{\"tile\":\"\",\"height\":\"36\",\"outlined\":\"\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.showSellBottomSheet(item)}}},[_vm._v(\" Sell Now \")])],1)],1)])}),1),(_vm.loadMore)?_c('v-row',{staticClass:\"ma-1 pt-5\",attrs:{\"justify\":\"center\",\"align\":\"center\",\"dense\":\"\"}},[_vm._v(\" >\"),_c('v-col',{staticClass:\"text-center\"},[_c('v-btn',{staticClass:\"ma-2 black--text\",attrs:{\"light\":\"\",\"outlined\":\"\",\"color\":\"accent\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.getPaginatedProductsDetails()}}},[_vm._v(\" Load More \")])],1)],1):_vm._e()],1)],1),[_c('div',{staticClass:\"text-center gradient-border\"},[_c('v-bottom-sheet',{staticClass:\"gradient-border\",attrs:{\"inset\":\"\",\"dark\":\"\",\"max-width\":_vm.$vuetify.breakpoint.smAndUp\n              ? _vm.$vuetify.breakpoint.lgAndUp\n                ? '40%'\n                : '75%'\n              : '100%'},model:{value:(_vm.showSheet),callback:function ($$v) {_vm.showSheet=$$v},expression:\"showSheet\"}},[_c('v-sheet',{staticClass:\"bottom-sht\",attrs:{\"height\":\"230px\"}},[_c('div',{staticClass:\"text-right\"},[_c('v-btn',{staticClass:\"pe-0 mt-1 me-1\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showSheet = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('div',{staticClass:\"d-flex flex-row mb-5 justify-center\"},[_c('v-img',{staticClass:\"rounded-0 ma-5 mt-1\",attrs:{\"contain\":\"\",\"max-width\":_vm.$vuetify.breakpoint.smAndUp ? '120' : '100',\"lazy-src\":require(\"@/assets/product-placeholder.png\"),\"src\":_vm.selectedItem.logoUrl}}),_c('div',{staticClass:\"\\n                  d-flex\\n                  flex-column\\n                  align-start\\n                  justify-space-between\\n                  start\\n                \"},[_c('span',{staticClass:\"\\n                    text-title\\n                    white--text\\n                    ms-2\\n                    mt-1\\n                    font-weight-bold\\n                    line-clamp\\n                  \"},[_vm._v(\" \"+_vm._s(_vm.selectedItem.name)+\" \")]),_c('div',{staticClass:\"d-flex flex-row mb-5 justify-center\"},[_c('v-btn',{staticClass:\"no-uppercase rounded-0 ma-2\",attrs:{\"tile\":\"\",\"height\":\"36\",\"outlined\":\"\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.addProduct(_vm.productMode.CASH)}}},[_vm._v(\" Cash ₹\"+_vm._s(_vm.selectedItem.cashPrice)+\" \")]),_c('v-btn',{staticClass:\"no-uppercase rounded-0 ma-2\",attrs:{\"tile\":\"\",\"height\":\"36\",\"outlined\":\"\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.addProduct(_vm.productMode.CREDIT)}}},[_vm._v(\" Credit ₹\"+_vm._s(_vm.selectedItem.creditPrice)+\" \")])],1)])],1)])],1)],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { SellProductInfo } from \"@/dto/SellProductInfo\";\r\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\r\n\r\nimport { firestoreDb } from \"@/firebaseInit\";\r\nimport {\r\n  query,\r\n  collection,\r\n  orderBy,\r\n  limit,\r\n  getDocs,\r\n  startAfter,\r\n  where\r\n} from \"firebase/firestore\";\r\nimport { FirestoreService } from \"@/services/FirestoreService\";\r\nimport { SellType } from \"@/dto/SellType\";\r\nimport { CartService } from \"@/services/CartService\";\r\n\r\n@Component\r\nexport default class CashCreditProducts extends Vue {\r\n  productMode = SellType;\r\n  loading = false;\r\n  detailsLoading = true;\r\n  productList: SellProductInfo[] = [];\r\n  searchList: SellProductInfo[] = [];\r\n  finalList: SellProductInfo[] = [];\r\n  loadMore = false;\r\n  showSheet = false;\r\n  search = \"\";\r\n  selectedItem: SellProductInfo = new SellProductInfo();\r\n  showSearch = false;\r\n\r\n  @Watch(\"search\")\r\n  async onPropertyChanged(value: string, oldValue: string) {\r\n    try {\r\n      if (value && value !== \"\" && value.length >= 3) {\r\n\r\n        this.loading = true;\r\n        const sectionItems: SellProductInfo[] = [];\r\n\r\n        const q = query(\r\n          collection(firestoreDb, \"creditProducts\").withConverter<\r\n            SellProductInfo\r\n          >(SellProductInfo.converter),\r\n          where(\"searchPhrase\", \">=\", value.toLowerCase()),\r\n          where(\"searchPhrase\", \"<=\", value.toLowerCase() + \"\\uf8ff\"),\r\n          orderBy(\"searchPhrase\", \"asc\"),\r\n          limit(20)\r\n        );\r\n        const resp = await getDocs(q);\r\n        if (!resp.empty) {\r\n          this.showSearch = true;\r\n          resp.forEach((doc: any) => {\r\n            sectionItems.push(doc.data());\r\n          });\r\n          if (sectionItems.length < 10) {\r\n            this.loadMore = false;\r\n          } else {\r\n            this.loadMore = true;\r\n          }\r\n          this.searchList.push(...sectionItems);\r\n          this.finalList = [];\r\n          this.finalList.push(...this.searchList);\r\n        } else {\r\n          Vue.toasted.show(\"No results found\", { icon: \"face\", type: \"error\" });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      Vue.toasted.show(error.message, { icon: \"face\", type: \"error\" });\r\n      console.error(error)\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  showSellBottomSheet(item: SellProductInfo) {\r\n    this.selectedItem = item;\r\n    this.showSheet = true;\r\n  }\r\n  async mounted() {\r\n    await this.fetchData();\r\n  }\r\n  private async fetchData() {\r\n    try {\r\n      this.detailsLoading = true;\r\n      const sectionItems: SellProductInfo[] = [];\r\n      // const snapshot = await FirestoreService.getPaginatedDocuments(`ProductSections/${section.id}/products`, ProductInfo.converter, section.products[section.products.length - 1], 10);\r\n\r\n      const q = query(\r\n        collection(firestoreDb, \"creditProducts\").withConverter<\r\n          SellProductInfo\r\n        >(SellProductInfo.converter),\r\n        orderBy(\"auditTrail.createdOn\", \"desc\"),\r\n        limit(15)\r\n      );\r\n      const resp = await getDocs(q);\r\n      if (!resp.empty) {\r\n        resp.forEach((doc: any) => {\r\n          sectionItems.push(doc.data());\r\n        });\r\n      }\r\n      if (sectionItems.length < 10) {\r\n        this.loadMore = false;\r\n      } else {\r\n        this.loadMore = true;\r\n      }\r\n      this.productList.push(...sectionItems);\r\n      this.finalList = [];\r\n      this.finalList.push(...this.productList);\r\n    } catch (error) {\r\n      Vue.toasted.show(error.message, { icon: \"cross\", type: \"error\" });\r\n      console.log(error);\r\n    } finally {\r\n      this.detailsLoading = false;\r\n    }\r\n  }\r\n\r\n  @Watch(\"$route\", { deep: true })\r\n  async onRouteChanged(value: boolean, oldValue: boolean) {\r\n    await this.fetchData();\r\n  }\r\n\r\n  async getPaginatedProductsDetails() {\r\n    try {\r\n      this.loading = true;\r\n      const sectionItems: SellProductInfo[] = [];\r\n      // const snapshot = await FirestoreService.getPaginatedDocuments(`ProductSections/${section.id}/products`, ProductInfo.converter, section.products[section.products.length - 1], 10);\r\n\r\n      const q = query(\r\n        collection(firestoreDb, \"creditProducts\").withConverter<\r\n          SellProductInfo\r\n        >(SellProductInfo.converter),\r\n        this.showSearch ? orderBy(\"auditTrail.createdOn\", \"desc\") : orderBy(\"auditTrail.createdOn\", \"desc\"),\r\n        startAfter(\r\n          this.finalList[this.finalList.length - 1].auditTrail.createdOn\r\n        ),\r\n        limit(15)\r\n      );\r\n      const resp = await getDocs(q);\r\n      if (!resp.empty) {\r\n        resp.forEach((doc: any) => {\r\n          sectionItems.push(doc.data());\r\n        });\r\n      }\r\n      if (sectionItems.length < 10) {\r\n        this.loadMore = false;\r\n      } else {\r\n        this.loadMore = true;\r\n      }\r\n      this.productList.push(...sectionItems);\r\n      console.log(sectionItems);\r\n    } catch (error) {\r\n      Vue.toasted.show(\"Error fetching section Products Details\", {\r\n        icon: \"face\",\r\n        type: \"error\"\r\n      });\r\n      throw new Error(error);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  clearSearch() {\r\n    this.finalList = [];\r\n    this.finalList.push(...this.productList);\r\n  }\r\n  addProduct(mode: SellType) {\r\n    CartService.addSellProduct(this.selectedItem, mode);\r\n    this.showSheet = false;\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CashCreditProducts.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CashCreditProducts.ts?vue&type=script&lang=ts&\"","import './VBottomSheet.sass'\n\n// Extensions\nimport VDialog from '../VDialog/VDialog'\n\n/* @vue/component */\nexport default VDialog.extend({\n  name: 'v-bottom-sheet',\n\n  props: {\n    inset: Boolean,\n    maxWidth: [String, Number],\n    transition: {\n      type: String,\n      default: 'bottom-sheet-transition',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VDialog.options.computed.classes.call(this),\n        'v-bottom-sheet': true,\n        'v-bottom-sheet--inset': this.inset,\n      }\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./CashCreditProducts.vue?vue&type=template&id=0d033a34&\"\nimport script from \"./CashCreditProducts.ts?vue&type=script&lang=ts&\"\nexport * from \"./CashCreditProducts.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CashCreditProducts.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBottomSheet,VBtn,VCol,VContainer,VIcon,VImg,VProgressCircular,VRow,VSheet,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CashCreditProducts.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/SellBannerDesk.69a45515.png\";","module.exports = __webpack_public_path__ + \"img/product-placeholder.5cce1f30.png\";"],"sourceRoot":""}