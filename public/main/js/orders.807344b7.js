(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orders"],{"0764":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[a("v-card-text",[a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),!t.infoLoading&&t.noOrders?a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDERS")])]),a("v-card-text",[a("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" No results found ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("ORDERS")])]),a("v-card-text",[a("v-text-field",{staticClass:"rounded-0 accent--text shrink mb-3",attrs:{loading:t.loading,flat:"",dark:"","hide-no-data":"","hide-details":"",dense:"",label:"Search Orders",outlined:"",clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":t.clearSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.finalList},scopedSlots:t._u([{key:"item.createdDate",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(t.formatDate(s.createdDate)))])]}},{key:"item.orderStatus",fn:function(e){var s=e.item;return[a("span",{class:"COMPLETED"===s.orderStatus?"green--text font-weight-medium":"orange--text font-weight-medium"},[t._v(t._s(s.orderStatus))])]}},{key:"item.orderCost",fn:function(e){var s=e.item;return[a("span",{staticClass:"font-weight-medium"},[t._v("₹ "+t._s(s.orderCost))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("router-link",{attrs:{to:{path:"/dashboard/orders/"+s.orderId}}},[t._v("DETAILS")])]}}],null,!0)})],1)],1)],1)},r=[],i=a("ade3"),o=a("9ab4"),c=a("1b40"),n=a("7e78"),d=a("1b88"),l=a("b166"),h=a("e71f");let u=class extends c["c"]{constructor(...t){super(...t),Object(i["a"])(this,"searchList",[]),Object(i["a"])(this,"orderList",[]),Object(i["a"])(this,"finalList",[]),Object(i["a"])(this,"search",""),Object(i["a"])(this,"showSearch",!1),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"DATE",value:"createdDate"},{text:"STATUS",value:"orderStatus"},{text:"ORDER TITLE",value:"cartItems[0].productName"},{text:"ORDER ID",value:"orderId"},{text:"PAYMENT METHOD",value:"orderType"},{text:"TOTAL AMOUNT",value:"orderCost"},{text:"",value:"actions",sortable:!1}])}async mounted(){await this.loadOrders()}async onPropertyChanged(t,e){try{const e=n["a"].currentUser;if(t&&""!==t&&t.length>=5&&e){this.loading=!0;const a=[],s=Object(h["j"])(Object(h["b"])(n["b"],"orders").withConverter(d["a"].converter),Object(h["n"])("uid","==",e.uid),Object(h["n"])("orderId",">=",t),Object(h["n"])("orderId","<=",t+""),Object(h["i"])("orderId","asc"),Object(h["g"])(20)),r=await Object(h["e"])(s);console.log(r),r.empty?c["c"].toasted.show("No orders found with given id",{icon:"face",type:"error"}):(this.showSearch=!0,r.forEach(t=>{a.push(t.data())}),this.searchList=[],this.searchList.push(...a),this.finalList=[],this.finalList.push(...this.searchList))}}catch(a){c["c"].toasted.show(a.message,{icon:"face",type:"error"}),console.error(a)}finally{this.loading=!1}}async loadOrders(){try{this.infoLoading=!0;const t=n["a"].currentUser;if(t){this.orderList=[];const e=Object(h["j"])(Object(h["b"])(n["b"],"orders").withConverter(d["a"].converter),Object(h["n"])("uid","==",t.uid),Object(h["i"])("createdDate","desc"),Object(h["g"])(40)),a=await Object(h["e"])(e);a.empty?this.noOrders=!0:(a.forEach(t=>{this.orderList.push(t.data())}),this.finalList=[],this.finalList.push(...this.orderList))}else c["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t),c["c"].toasted.show(t,{icon:"close-circle",type:"error"})}finally{this.infoLoading=!1}}formatDate(t){return Object(l["a"])(new Date(t),"yyyy-MM-dd")}clearSearch(){this.finalList=[],this.finalList.push(...this.orderList)}};Object(o["a"])([Object(c["d"])("search")],u.prototype,"onPropertyChanged",null),u=Object(o["a"])([c["a"]],u);var v=u,b=v,f=(a("e3bc"),a("2877")),p=a("6544"),m=a.n(p),g=a("0798"),y=a("b0af"),O=a("99d9"),C=a("a523"),x=a("8fea"),j=a("490a"),w=a("8654"),L=Object(f["a"])(b,s,r,!1,null,"9016ffaa",null);e["default"]=L.exports;m()(L,{VAlert:g["a"],VCard:y["a"],VCardText:O["c"],VCardTitle:O["d"],VContainer:C["a"],VDataTable:x["a"],VProgressCircular:j["a"],VTextField:w["a"]})},"0798":function(t,e,a){"use strict";a("caad"),a("0c18");var s=a("10d2"),r=a("afdd"),i=a("9d26"),o=a("f2e7"),c=a("7560"),n=a("f40d"),d=a("58df"),l=a("d9bd");e["a"]=Object(d["a"])(s["a"],o["a"],n["a"]).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{["v-alert__border--"+this.border]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(i["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(i["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...s["a"].options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t["v-alert--border-"+this.border]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&Object(l["a"])("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"07e6":function(t,e,a){t.exports=a.p+"img/info.b6e591ff.svg"},"0c18":function(t,e,a){},"1fb53":function(t,e,a){"use strict";a("f3e0")},"3ea7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[a("v-card-text",[a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),!t.infoLoading&&t.noOrders?a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("DASHBOARD")])]),a("v-card-text",[a("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" No Items yet! ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("DASHBOARD")])]),a("v-card-text",[t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary library-card",attrs:{dark:"",flat:""}},[a("v-card-title",{staticClass:"ps-0 pb-2"},[a("span",{staticClass:"text-caption"},[t._v("LATEST PURCHASES")])]),a("v-card-text",{staticClass:"div-color"},[a("v-row",{staticClass:"pt-4",attrs:{justify:"start",align:"center","no-gutters":"",dense:""}},t._l(t.libraryList,(function(t){return a("v-col",{key:t.id,attrs:{cols:"3"}},[a("router-link",{attrs:{to:"/dashboard/library"}},[a("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"elevation-2",attrs:{contain:"",height:"auto","max-width":"80",src:t.headerImageUrl}})],1)],1)})),1),a("v-row",{staticClass:"pt-4 pe-2",attrs:{justify:"end",align:"center","no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"5"}},[a("router-link",{attrs:{to:"/dashboard/library"}},[a("v-btn",{staticClass:"rounded-0 text-caption",attrs:{tile:"",height:"36",outlined:"",color:"white"}},[t._v(" View My Library ")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],i=a("ade3"),o=a("9ab4"),c=a("1b40"),n=a("7e78"),d=a("a0f5"),l=a("e71f");let h=class extends c["c"]{constructor(...t){super(...t),Object(i["a"])(this,"libraryList",[]),Object(i["a"])(this,"selectedLibraryItem",new d["a"]),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"",value:"headerImageUrl",sortable:!1},{text:"DATE",value:"createdDate"},{text:"ORDER ID",value:"orderId"},{text:"PRODUCT NAME",value:"productName"},{text:"SELLER",value:"sellerName"},{text:"PRICE",value:"cost"},{text:"",value:"actions",sortable:!1}]),Object(i["a"])(this,"redeemModal",!1)}async mounted(){await this.loadLibrary()}async loadLibrary(){try{this.infoLoading=!0;const t=n["a"].currentUser;if(t){console.log(`users/${t.uid}/library`);const e=Object(l["j"])(Object(l["b"])(n["b"],`users/${t.uid}/library`).withConverter(d["a"].converter),Object(l["i"])("createdDate","desc"),Object(l["g"])(4)),a=await Object(l["e"])(e);a.empty?this.noOrders=!0:a.forEach(t=>{this.libraryList.push(t.data())})}else c["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t),c["c"].toasted.show(t,{icon:"close-circle",type:"error"})}finally{this.infoLoading=!1}}async processKey(t){try{this.redeemModal=!0,this.selectedLibraryItem=t}catch(e){console.log(e)}}async copyKeyToClipboard(){try{await navigator.clipboard.writeText(this.selectedLibraryItem.productKey),c["c"].toasted.show("key copied to clipboard",{icon:"close-circle",type:"success"})}catch(t){console.log(t),c["c"].toasted.show(t.message,{icon:"close-circle",type:"error"})}}};h=Object(o["a"])([c["a"]],h);var u=h,v=u,b=(a("1fb53"),a("2877")),f=a("6544"),p=a.n(f),m=a("0798"),g=a("8336"),y=a("b0af"),O=a("99d9"),C=a("62ad"),x=a("a523"),j=a("adda"),w=a("490a"),L=a("0fd9"),_=a("269a"),E=a.n(_),I=a("5607"),T=Object(b["a"])(v,s,r,!1,null,"6d9d9dc2",null);e["default"]=T.exports;p()(T,{VAlert:m["a"],VBtn:g["a"],VCard:y["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:C["a"],VContainer:x["a"],VImg:j["a"],VProgressCircular:w["a"],VRow:L["a"]}),E()(T,{Ripple:I["a"]})},"44f7":function(t,e,a){"use strict";var s;a.d(e,"a",(function(){return s})),function(t){t["REFUND_REQUEST"]="REFUND_REQUEST",t["PROFILE_ISSUE"]="PROFILE_ISSUE",t["GENERIC_ISSUE"]="GENERIC_ISSUE",t["COMPLAINT"]="COMPLAINT"}(s||(s={}))},"5d0c":function(t,e,a){"use strict";a("fba2")},"781d":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s,r=a("ade3"),i=(a("aaff"),a("98db"),a("84f8")),o=a("ec26"),c=a("44f7");(function(t){t["CREATED"]="CREATED",t["IN_PROGRESS"]="IN_PROGRESS",t["COMPLETED"]="COMPLETED",t["REJECTED"]="REJECTED",t["CANCELLED"]="CANCELLED"})(s||(s={}));class n{constructor(){Object(r["a"])(this,"uid",void 0),Object(r["a"])(this,"ticketId",void 0),Object(r["a"])(this,"orderId",void 0),Object(r["a"])(this,"itemId",void 0),Object(r["a"])(this,"emailId",void 0),Object(r["a"])(this,"userReason",void 0),Object(r["a"])(this,"adminReason",void 0),Object(r["a"])(this,"ticketStatus",void 0),Object(r["a"])(this,"ticketType",void 0),Object(r["a"])(this,"createdDate",void 0),Object(r["a"])(this,"modifiedDate",void 0),this.emailId="",this.createdDate=(new Date).getTime(),this.modifiedDate=(new Date).getTime(),this.userReason="",this.ticketId=Object(o["a"])(),this.uid="",this.ticketStatus=s.CREATED,this.ticketType=c["a"].GENERIC_ISSUE,this.adminReason="",this.orderId="",this.itemId=""}}Object(r["a"])(n,"converter",{toFirestore(t){return Object(i["a"])(t)},fromFirestore(t,e){const a=t.data(e);return Object(i["b"])(n,a)}})},"810f":function(t,e,a){t.exports=a.p+"img/userGuide.b04a0566.svg"},a0f5:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a("ade3"),r=a("ec26"),i=a("84f8");class o{constructor(){Object(s["a"])(this,"id",void 0),Object(s["a"])(this,"cost",void 0),Object(s["a"])(this,"productId",void 0),Object(s["a"])(this,"productName",void 0),Object(s["a"])(this,"headerImageUrl",void 0),Object(s["a"])(this,"sellerPriceId",void 0),Object(s["a"])(this,"sellerId",void 0),Object(s["a"])(this,"sellerName",void 0),Object(s["a"])(this,"sellerLogo",void 0),Object(s["a"])(this,"productKey",void 0),Object(s["a"])(this,"orderId",void 0),Object(s["a"])(this,"createdDate",void 0),this.id=Object(r["a"])(),this.createdDate=0,this.cost=0,this.productId="",this.productName="",this.headerImageUrl="",this.sellerPriceId="",this.sellerId="",this.sellerName="",this.sellerLogo="",this.productKey="",this.orderId=""}}Object(s["a"])(o,"converter",{toFirestore(t){return Object(i["a"])(t)},fromFirestore(t,e){const a=t.data(e);return Object(i["b"])(o,a)}})},a85b:function(t,e,a){"use strict";a("b9c3")},b411:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[s("v-card-text",[s("div",[s("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),!t.infoLoading&&t.noOrders?s("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[s("v-card-title",[s("span",{staticClass:"text-title"},[t._v("MY LIBRARY")])]),s("v-card-text",[s("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" No Items yet! ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():s("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[s("v-card-title",[s("span",{staticClass:"text-title"},[t._v("MY LIBRARY")])]),s("v-card-text",[s("v-text-field",{staticClass:"rounded-0 accent--text shrink mb-3",attrs:{loading:t.loading,flat:"",dark:"","hide-no-data":"","hide-details":"",dense:"",label:"Search Library Items",outlined:"",clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":t.clearSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.finalList},scopedSlots:t._u([{key:"item.headerImageUrl",fn:function(t){var e=t.item;return[s("div",{staticClass:"d-flex flex-row"},[s("v-img",{staticClass:"elevation-0",attrs:{contain:"",height:"auto","max-width":"80",src:e.headerImageUrl}})],1)]}},{key:"item.createdDate",fn:function(e){var a=e.item;return[s("span",[t._v(t._s(new Date(a.createdDate).toLocaleString()))])]}},{key:"item.cost",fn:function(e){var a=e.item;return[t._v(" ₹ "+t._s(a.cost)+" ")]}},{key:"item.orderCost",fn:function(e){var a=e.item;return[s("span",{staticClass:"font-weight-medium"},[t._v("₹ "+t._s(a.orderCost))])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-btn",{staticClass:"mb-2 no-uppercase font-weight-medium",attrs:{light:"",tile:"",text:"",color:"rgb(250,211,24)"},on:{click:function(e){return t.processKey(a)}}},[t._v("VIEW KEY")])]}}],null,!0)})],1)],1),s("v-dialog",{attrs:{"max-width":"550"},model:{value:t.redeemModal,callback:function(e){t.redeemModal=e},expression:"redeemModal"}},[s("v-card",{staticClass:"grey darken-3 rounded-0"},[s("v-card-title",{staticClass:"pb-0 pe-4"},[s("v-spacer"),s("v-btn",{staticClass:"pe-0 me-0",attrs:{icon:""},on:{click:function(e){t.redeemModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-card-title",{staticClass:"pt-0 text-h6 white--text"},[t._v(" KEYS FOR "+t._s(t.selectedLibraryItem.productName.toUpperCase())+" ")]),s("v-card-text",[s("div",{staticClass:"elevation-2 rounded-0 d-flex flex-column div-color"},[s("div",{staticClass:"\n              rounded-0\n              d-flex\n              flex-row\n              align-center\n              justify-space-between\n              div-color\n            "},[s("v-img",{staticClass:"elevation-0",attrs:{contain:"",height:"auto","max-width":"80",src:t.selectedLibraryItem.headerImageUrl}}),s("div",{staticClass:"ps-1 pe-1 d-flex flex-column justify-center"},[s("span",{staticClass:"mb-2 white--text text-body-2"},[t._v(t._s(t.selectedLibraryItem.productName))]),s("span",{staticClass:"white--text text-body-2 font-weight-bold"},[t._v(t._s(t.selectedLibraryItem.productKey))])]),s("v-btn",{staticClass:"no-uppercase rounded-0 mb-2 me-5 font-weight-medium",attrs:{tile:"",light:"",height:"30",color:"rgb(250,211,24)"},on:{click:t.copyKeyToClipboard}},[t._v(" Copy ")])],1),s("v-divider",{staticClass:"grey darken-3"}),s("div",{staticClass:"\n              rounded-0\n              d-flex\n              flex-grow flex-row\n              align-center\n              justify-end\n              ma-2\n              div-color\n              text-end\n            "},[s("v-img",{staticClass:"me-1",attrs:{src:a("810f"),"max-width":"15",contain:"",height:"auto"}}),s("router-link",{attrs:{to:"/privacy-policy"}},[s("span",{staticClass:"accent--text font-weight-medium text-caption me-2"},[t._v("Quick guide how to activate your key")])])],1)],1),s("div",{staticClass:"mt-5 d-flex flex-row align-center justify-space-between"},[s("div",{staticClass:"d-flex flex-row me-2 align-center"},[s("v-img",{attrs:{src:a("07e6"),"max-width":"40",contain:"",height:"auto"}}),s("div",{staticClass:"ps-3 pe-3 d-flex flex-column justify-center"},[s("span",{staticClass:"white--text font-weight-bold text-body-1"},[t._v("Having issues?")]),s("span",{staticClass:"white--text text-caption"},[t._v("We are eager to help you! Create the ticket, describe the details and we'll do our best to solve it.")])])],1),s("v-btn",{staticClass:"mb-2 rounded-0 text-caption",attrs:{tile:"",height:"36",outlined:"",color:"white"}},[t._v(" CREATE TICKET ")])],1)])],1)],1)],1)},r=[],i=a("ade3"),o=a("9ab4"),c=a("1b40"),n=a("7e78"),d=a("a0f5"),l=a("e71f");let h=class extends c["c"]{constructor(...t){super(...t),Object(i["a"])(this,"libraryList",[]),Object(i["a"])(this,"searchList",[]),Object(i["a"])(this,"finalList",[]),Object(i["a"])(this,"selectedLibraryItem",new d["a"]),Object(i["a"])(this,"search",""),Object(i["a"])(this,"showSearch",!1),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"",value:"headerImageUrl",sortable:!1},{text:"DATE",value:"createdDate"},{text:"ORDER ID",value:"orderId"},{text:"PRODUCT NAME",value:"productName"},{text:"SELLER",value:"sellerName"},{text:"PRICE",value:"cost"},{text:"",value:"actions",sortable:!1}]),Object(i["a"])(this,"redeemModal",!1)}async mounted(){await this.loadLibrary()}async onPropertyChanged(t,e){try{const e=n["a"].currentUser;if(t&&""!==t&&t.length>=5&&e){this.loading=!0;const a=[],s=Object(l["j"])(Object(l["b"])(n["b"],`users/${e.uid}/library`).withConverter(d["a"].converter),Object(l["n"])("orderId",">=",t),Object(l["n"])("orderId","<=",t+""),Object(l["i"])("orderId","asc"),Object(l["g"])(20)),r=await Object(l["e"])(s);console.log(r),r.empty?c["c"].toasted.show("No orders found with given id",{icon:"face",type:"error"}):(this.showSearch=!0,r.forEach(t=>{a.push(t.data())}),this.searchList=[],this.searchList.push(...a),this.finalList=[],this.finalList.push(...this.searchList))}}catch(a){c["c"].toasted.show(a.message,{icon:"face",type:"error"}),console.error(a)}finally{this.loading=!1}}async loadLibrary(){try{this.libraryList=[],this.infoLoading=!0;const t=n["a"].currentUser;if(t){const e=Object(l["j"])(Object(l["b"])(n["b"],`users/${t.uid}/library`).withConverter(d["a"].converter),Object(l["i"])("createdDate","desc"),Object(l["g"])(20)),a=await Object(l["e"])(e);a.empty?this.noOrders=!0:(a.forEach(t=>{this.libraryList.push(t.data())}),this.finalList=[],this.finalList.push(...this.libraryList))}else c["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t),c["c"].toasted.show(t,{icon:"close-circle",type:"error"})}finally{this.infoLoading=!1}}async processKey(t){try{this.redeemModal=!0,this.selectedLibraryItem=t}catch(e){console.log(e)}}async copyKeyToClipboard(){try{await navigator.clipboard.writeText(this.selectedLibraryItem.productKey),c["c"].toasted.show("key copied to clipboard",{icon:"close-circle",type:"success"})}catch(t){console.log(t),c["c"].toasted.show(t.message,{icon:"close-circle",type:"error"})}}clearSearch(){this.finalList=[],this.finalList.push(...this.libraryList)}};Object(o["a"])([Object(c["d"])("search")],h.prototype,"onPropertyChanged",null),h=Object(o["a"])([c["a"]],h);var u=h,v=u,b=(a("a85b"),a("2877")),f=a("6544"),p=a.n(f),m=a("0798"),g=a("8336"),y=a("b0af"),O=a("99d9"),C=a("a523"),x=a("8fea"),j=a("169a"),w=a("ce7e"),L=a("132d"),_=a("adda"),E=a("490a"),I=a("2fa4"),T=a("8654"),k=Object(b["a"])(v,s,r,!1,null,"76609c5a",null);e["default"]=k.exports;p()(k,{VAlert:m["a"],VBtn:g["a"],VCard:y["a"],VCardText:O["c"],VCardTitle:O["d"],VContainer:C["a"],VDataTable:x["a"],VDialog:j["a"],VDivider:w["a"],VIcon:L["a"],VImg:_["a"],VProgressCircular:E["a"],VSpacer:I["a"],VTextField:T["a"]})},b9c3:function(t,e,a){},c544:function(t,e,a){},d48b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.infoLoading,expression:"infoLoading"}],staticClass:"rounded-0 text-center primary",attrs:{"max-width":"500",dark:"",flat:""}},[a("v-card-text",[a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"accent",size:50}})],1)])],1),!t.infoLoading&&t.noOrders?a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("MY TICKETS")])]),a("v-card-text",[a("v-alert",{attrs:{outlined:"",type:"warning",border:"left"}},[t._v(" No results found ")])],1)],1):t._e(),t.infoLoading||t.noOrders?t._e():a("v-card",{staticClass:"primary",attrs:{dark:"",flat:""}},[a("v-card-title",[a("span",{staticClass:"text-title"},[t._v("MY TICKETS")])]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.libraryList},scopedSlots:t._u([{key:"item.createdDate",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(new Date(s.createdDate).toLocaleString()))])]}},{key:"item.ticketStatus",fn:function(e){var s=e.item;return[a("span",{class:"COMPLETED"===s.ticketStatus?"green--text font-weight-medium":"orange--text font-weight-medium"},[t._v(t._s(s.ticketStatus))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mb-2 no-uppercase font-weight-medium",attrs:{light:"",tile:"",text:"",color:"rgb(250,211,24)"},on:{click:function(e){return t.processKey(s)}}},[t._v("VIEW")])]}}],null,!0)})],1)],1)],1)},r=[],i=a("ade3"),o=a("9ab4"),c=a("1b40"),n=a("7e78"),d=a("e71f"),l=a("781d");let h=class extends c["c"]{constructor(...t){super(...t),Object(i["a"])(this,"libraryList",[]),Object(i["a"])(this,"selectedTicketItem",new l["a"]),Object(i["a"])(this,"loading",!1),Object(i["a"])(this,"infoLoading",!1),Object(i["a"])(this,"noOrders",!1),Object(i["a"])(this,"headers",[{text:"",value:"headerImageUrl",sortable:!1},{text:"DATE",value:"createdDate"},{text:"TICKET ID",value:"ticketId"},{text:"TICKET TYPE",value:"ticketType"},{text:"TICKET STATUS",value:"ticketStatus"},{text:"",value:"actions",sortable:!1}]),Object(i["a"])(this,"redeemModal",!1)}async mounted(){await this.loadTickets()}async loadTickets(){try{this.infoLoading=!0;const t=n["a"].currentUser;if(t){const e=Object(d["j"])(Object(d["b"])(n["b"],"tickets").withConverter(l["a"].converter),Object(d["n"])("uid","==",t.uid),Object(d["i"])("createdDate","desc"),Object(d["g"])(20)),a=await Object(d["e"])(e);a.empty?this.noOrders=!0:a.forEach(t=>{this.libraryList.push(t.data())})}else c["c"].toasted.show("User not logged in",{icon:"close-circle",type:"error"})}catch(t){console.log(t),c["c"].toasted.show(t,{icon:"close-circle",type:"error"})}finally{this.infoLoading=!1}}async processKey(t){try{this.redeemModal=!0,this.selectedTicketItem=t}catch(e){console.log(e)}}};h=Object(o["a"])([c["a"]],h);var u=h,v=u,b=(a("5d0c"),a("2877")),f=a("6544"),p=a.n(f),m=a("0798"),g=a("8336"),y=a("b0af"),O=a("99d9"),C=a("a523"),x=a("8fea"),j=a("490a"),w=Object(b["a"])(v,s,r,!1,null,"70eb5ef9",null);e["default"]=w.exports;p()(w,{VAlert:m["a"],VBtn:g["a"],VCard:y["a"],VCardText:O["c"],VCardTitle:O["d"],VContainer:C["a"],VDataTable:x["a"],VProgressCircular:j["a"]})},e3bc:function(t,e,a){"use strict";a("c544")},f3e0:function(t,e,a){},fba2:function(t,e,a){}}]);
//# sourceMappingURL=orders.807344b7.js.map